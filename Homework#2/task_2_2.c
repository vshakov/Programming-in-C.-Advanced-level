/* Создайте массив на куче.
Создайте функцию которая формирует массив указателей на значения массива на куче и возвращает его.
Создайте функцию SortPointers, которая принимает массив указателей и сортирует указатели 
** по значениям**, на которые они указывают. Метод сортировки можете использовать любой. 
Сортировка по возрастанию. */

#include <stdio.h>
#include <stdlib.h>

// Функция для сортировки указателей
int compare(const void* a, const void* b) {
    int* ptr1 = *(int**)a;
    int* ptr2 = *(int**)b;
    return *ptr1 - *ptr2;
}

// Функция для создания массива указателей и сортировки их значений
int** sortPointers(int* arr, int size) {
    // Выделяем память для массива указателей
    int** pointers = (int**)malloc(size * sizeof(int*));
    if (pointers == NULL) {
        printf("Ошибка выделения памяти\n");
        exit(1);
    }

    // Заполняем массив указателей значениями из arr
    for (int i = 0; i < size; i++) {
        pointers[i] = &arr[i];
    }

    // Сортируем указатели по значениям, на которые они указывают
    qsort(pointers, size, sizeof(int*), compare);

    return pointers;
}

int main() {
    int arr[] = {5, 2, 8, 1, 9};
    int size = sizeof(arr) / sizeof(arr[0]);

    // Вызываем функцию sortPointers для получения отсортированного массива указателей
    int** sortedPointers = sortPointers(arr, size);

    // Выводим отсортированные значения
    printf("Отсортированные значения:\n");
    for (int i = 0; i < size; i++) {
        printf("%d ", *sortedPointers[i]);
    }
    printf("\n");

    // Освобождаем память, выделенную для массива указателей
    free(sortedPointers);

    return 0;
}

/* В этой программе мы используем функцию qsort из стандартной библиотеки C для сортировки указателей. 
Функция compare служит в качестве функции сравнения, которая сравнивает значения, на которые указывают указатели. 
Далее мы создаем массив указателей pointers и заполняем его значениями из массива arr. 
Затем мы сортируем массив указателей с использованием qsort и выводим отсортированные значения. 
Наконец, мы освобождаем память, выделенную для массива указателей. */
